<div class="sign_page">

  <button class="btn-return" routerLink="/home">Retour</button>

<div class="sign">
  <h2 class="sign-header">INSCRIPTION</h2>
  <div class="sign-container">
    <div class="sign-box">
      <form class="formulaire" [formGroup]="formulaire" (ngSubmit)="onInscription()">
       <mat-form-field class="field">
        <mat-label>Nom</mat-label>
        <input matInput formControlName="nom" />
       </mat-form-field>

      <mat-form-field class="field">
       <mat-label>Prenom</mat-label>
       <input matInput formControlName="prenom" />
     </mat-form-field>

     <mat-form-field class="field">
      <mat-label>Rue</mat-label>
      <input matInput formControlName="rue" />
    </mat-form-field>

    <mat-form-field class="field">
      <mat-label>Code Postal</mat-label>
      <input matInput formControlName="cp" />
    </mat-form-field>

    <mat-form-field class="field">
      <mat-label>Ville</mat-label>
      <input matInput formControlName="ville" />
    </mat-form-field>

    <mat-form-field class="field">
      <mat-label>Telephone</mat-label>
      <input matInput formControlName="tel" />
    </mat-form-field>

  <mat-form-field class="field">
    <mat-label>Email</mat-label>
    <input
      matInput
      formControlName="email"
      placeholder="Ex. john.doe@domain.com"
    />

    @if(formulaire.get("email")?.hasError('required')){
    <mat-error>L'email est obligatoire</mat-error>
    } @if(formulaire.get("email")?.hasError('email')){
    <mat-error>L'email est mal formé</mat-error>
    }
  </mat-form-field>

  <mat-form-field class="field">
    <mat-label>Mot de passe</mat-label>
    <input
      matInput
      formControlName="passeword"
      (change)="verifierMotDePasseIdentique()"
      [type]="afficheMotDePasse ? 'text' : 'password'"
    />
    <button
      type="button"
      mat-icon-button
      matSuffix
      (click)="afficheMotDePasse = !afficheMotDePasse"
      [attr.aria-label]="'Hide password'"
      [attr.aria-pressed]="afficheMotDePasse"
    >
      <mat-icon class="visible">{{
        afficheMotDePasse ? "visibility" : "visibility_off"
      }}</mat-icon>
    </button>

    <mat-error>Le mot de passe est obligatoire</mat-error>
  </mat-form-field>

  <mat-form-field class="field">
    <mat-label>Confirmer le mot de passe</mat-label>
    <input
      matInput
      [(ngModel)]="confirmationMotDePasse"
      [ngModelOptions]="{ standalone: true }"
      (change)="verifierMotDePasseIdentique()"
      [type]="afficheMotDePasseConfirme ? 'text' : 'password'"
    />
    <button
      type="button"
      mat-icon-button
      matSuffix
      (click)="afficheMotDePasseConfirme = !afficheMotDePasseConfirme"
      [attr.aria-label]="'Hide password'"
      [attr.aria-pressed]="afficheMotDePasseConfirme"
    >
      <mat-icon>{{
        afficheMotDePasseConfirme ? "visibility" : "visibility_off"
      }}</mat-icon>
    </button>
  </mat-form-field>

  @if(motDePasseDifferent) {
  <mat-error>Les mots de passe ne sont pas identiques</mat-error>
  }

  <button type="submit" mat-raised-button color="primary" routerLink="/inscription">
    Créer mon compte
  </button>

</form>
</div>
</div>
</div>
</div>
